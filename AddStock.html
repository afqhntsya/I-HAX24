<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inventory Management</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>
  <h1>Inventory Management</h1>

  <form id="inventoryForm">
    <div class="form-group">
      <label for="itemName">Item Name:</label>
      <input type="text" id="itemName" class="form-control" placeholder="Enter Item Name" required>
    </div>
    <div class="form-group">
      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" class="form-control" placeholder="Enter Quantity" required>
    </div>
    <div class="form-group">
      <label for="unitPrice">Unit Price (RM):</label>
      <input type="number" id="unitPrice" class="form-control" placeholder="Enter Unit Price" required>
    </div>
    <div class="form-group">
      <label for="expirationDate">Expiration Date:</label>
      <input type="date" id="expirationDate" class="form-control" placeholder="Select Expiration Date">
    </div>
    <button type="submit" class="btn btn-primary">Add Item</button>
  </form>

  <table id="inventoryTable" class="table table-striped">
    <thead>
      <tr>
        <th>Item Name</th>
        <th>Quantity</th>
        <th>Unit Price (RM)</th>
        <th>Total Value</th>
        <th>Expiration Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      </tbody>
  </table>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C760k/7uJ190EairH4qL61qDuPaW6au6Kg9vLqQj64/nwSUkQ+1bvB06qHx/IS6m" crossorigin="anonymous"></script>
  <script>
    // Define a minimum quantity threshold
    const minQuantityThreshold = 5;

    // Track inventory items
    const inventory = {};

    // Function to check for low stock
    function checkLowStock() {
      for (const itemName in inventory) {
        if (inventory[itemName].quantity < minQuantityThreshold) {
          // Trigger an alert (e.g., display a warning message)
          alert(`Low stock for ${itemName}`);
        }
      }
    }

    // Modify the add item function to update inventory data
    document.getElementById('inventoryForm').addEventListener('submit', function(event) {
      event.preventDefault();

      const itemName = document.getElementById('itemName').value;
      const quantity = document.getElementById('quantity').value;
      const unitPrice = document.getElementById('unitPrice').value;
      const expirationDate = document.getElementById('expirationDate').value;

      const totalValue = quantity * unitPrice;

      const row = `<tr>
        <td>${itemName}</td>
        <td>${quantity}</td>
        <td>${unitPrice}</td>
        <td>${totalValue}</td>
        <td>${expirationDate}</td>
        <td><button onclick="deleteRow(this)">Delete</button></td>
      </tr>`;

      document.querySelector('#inventoryTable tbody').insertAdjacentHTML('beforeend', row);

      // Update inventory data
      inventory[itemName] = {
        quantity,
        unitPrice,
        expirationDate
      };

      // Check for low stock
      checkLowStock();

      this.reset();
    });

    function deleteRow(button) {
      button.closest('tr').remove();

      // Remove item from inventory
      const itemName = button.closest('tr').querySelector('td:first-child').textContent;
      delete inventory[itemName];

      // Check for low stock
      checkLowStock();
    }

    // Call checkLowStock periodically (e.g., every hour)
    setInterval(checkLowStock, 3600000);
  </script>
</body>
</html>
